<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Request</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <nav>
    <a href="index.html">
      <img src="https://app.bploparanaque.com/safetyseal/images/logo.png" alt="City Seal" class="logo">
    </a>
    <div class="nav-links">
      <a href="index.html">Home</a>
      <a href="request.html">Request</a>
      <a href="orders.html">Orders</a>
      <a href="status.html">Status</a>
      <a href="contact.html">Contact</a>
      <a href="profile.html" class="profile-link">
        <img src="https://www.pngall.com/wp-content/uploads/5/User-Profile-PNG-Image.png" alt="Profile Photo" class="profile-photo">
      </a>
    </div>
  </nav>

  <div class="container">
    <h2>Choose Document Type</h2>

    <div class="document-options">
      <button class="btn" id="btn1" disabled>Certificate of Residency</button>
      <button class="btn" id="btn2" disabled>Business Clearance</button>
    </div>

    <div class="checkboxes">
      <label>
  <input type="checkbox" class="agreement-checkbox" />
  I accept the 
  <a href="iBarangay_T&C .html" id="openTerms">Terms and Conditions</a> of the User Agreement and 
  <a href="iBarangay_T&C .html" id="openPrivacy">Privacy Policy</a>
</label>
        <input type="checkbox" class="agreement-checkbox" />
        I consent to the processing of my personal data in accordance with the Data
        Privacy Act of 2012
      </label>
    </div>
    
     <div id="residencyModal" class="modal">
    <div class="modal-content">
    <span class="close-button" onclick="closeModal()">&times;</span>
    <!-- Residency Certificate Form -->
    <form id="residentForm" class="hidden" action="javascript:void(0);">
        <img src="https://app.bploparanaque.com/safetyseal/images/logo.png" alt="City Seal" class="logo" width="50" height="auto">
        <h1 style="text-align: center;">RESIDENCY CERTIFICATE APPLICATION</h1>
        <p style="text-align: center;">Fill out all required fields completely and accurately</p>

        <!-- Personal Information Section -->
        <section class="section" id="personalInfo">
            <h2>Personal Information</h2>
            <div class="row">
                <div>
                    <label for="res_LastName" class="required">Last Name</label>
                    <input type="text" id="res_LastName" name="res_LastName" required>
                </div>
                <div>
                    <label for="res_FirstName" class="required">First Name</label>
                    <input type="text" id="res_FirstName" name="res_FirstName" required>
                </div>
                <div>
                    <label for="res_MiddleName">Middle Name</label>
                    <input type="text" id="res_MiddleName" name="res_MiddleName">
                </div>
                <div>
                    <label for="res_DateOfBirth" class="required">Date of Birth</label>
                    <input type="date" id="res_DateOfBirth" name="res_DateOfBirth" required>
                </div>
                <div>
                    <label for="res_PlaceOfBirth" class="required">Place of Birth</label>
                    <input type="text" id="res_PlaceOfBirth" name="res_PlaceOfBirth" required>
                </div>
                <div>
                    <label for="res_CountryOfBirth" class="required">Country of Birth</label>
                    <input type="text" id="res_CountryOfBirth" name="res_CountryOfBirth" required>
                </div>
                <div>
                    <label for="res_Sex" class="required">Sex</label>
                    <select id="res_Sex" name="res_Sex" required>
                        <option value="">Choose</option>
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
                <div>
                    <label for="res_CivilStatus" class="required">Civil Status</label>
                    <select id="res_CivilStatus" name="res_CivilStatus" required>
                        <option value="">Choose</option>
                        <option value="Single">Single</option>
                        <option value="Married">Married</option>
                        <option value="Widowed">Widowed</option>
                        <option value="Annulled">Annulled</option>
                    </select>
                </div>
                <div>
                    <label for="res_BloodType">Blood Type</label>
                    <select id="res_BloodType" name="res_BloodType">
                        <option value="">Choose</option>
                        <option value="A+">A+</option>
                        <option value="A-">A-</option>
                        <option value="B+">B+</option>
                        <option value="B-">B-</option>
                        <option value="O+">O+</option>
                        <option value="O-">O-</option>
                        <option value="AB+">AB+</option>
                        <option value="AB-">AB-</option>
                    </select>
                </div>
                <div>
                    <label for="res_Nationality" class="required"> Nationality</label>
                    <input type="text" id="res_Nationality" name="res_Nationality">
                </div>
            </div>
        </section>

        <!-- Address Information Section -->
        <section class="section" id="addressInfo">
            <h2>Address Information</h2>
            <div class="row">
                <div>
                    <label for="res_HouseNumber" class="required">House/Building Number</label>
                    <input type="text" id="res_HouseNumber" name="res_HouseNumber">
                </div>
                <div>
                    <label for="res_Street" class="required">Street</label>
                    <input type="text" id="res_Street" name="res_Street">
                </div>
                <div>
                    <label for="res_Subdivision">Subdivision/Village</label>
                    <input type="text" id="res_Subdivision" name="res_Subdivision">
                </div>
                <div>
                    <label for="res_Barangay" class="required">Barangay</label>
                    <input type="text" id="res_Barangay" name="res_Barangay">
                </div>
                <div>
                    <label for="res_CityMunicipality" class="required">City/Municipality</label>
                    <input type="text" id="res_CityMunicipality" name="res_CityMunicipality">
                </div>
                <div>
                    <label for="res_Province" class="required">Province</label>
                    <input type="text" id="res_Province" name="res_Province">
                </div>
                <div>
                    <label for="res_PostalCode">Postal Code</label>
                    <input type="text" id="res_PostalCode" name="res_PostalCode">
                </div>
                
            </div>
        </section>

        <!-- Contact Information Section -->
        <section class="section" id="contactInfo">
            <h2>Contact Information</h2>
            <div class="row">
                <div>
                    <label for="res_ContactDetails" class="required">Contact Number</label>
                    <input type="tel" id="res_ContactDetails" name="res_ContactDetails" placeholder="Mobile/Phone Number">
                </div>
                <div>
                    <label for="res_EmailAddress">Email Address</label>
                    <input type="email" id="res_EmailAddress" name="res_EmailAddress">
                </div>
                <div>
                    <label for="res_EmergencyContact">Emergency Contact</label>
                    <input type="text" id="res_EmergencyContact" name="res_EmergencyContact"">
                </div>
            </div>
        </section>

        <!-- Household Information Section -->
        <section class="section" id="householdInfo">
            <h2>Household Information</h2>
            <div class="row">
                <div style="flex: 2;">
                    <label for="res_HouseholdDetails">Household Members</label>
                    <textarea id="res_HouseholdDetails" name="res_HouseholdDetails" rows="4" placeholder="List all household members with their relationship to you"></textarea>
                </div>
            </div>
        </section>

        <!-- Community & Health Section -->
        <section class="section" id="communityHealth">
            <h2>Community & Health</h2>
            <div class="row">
                <div>
                    <label for="res_BarangayInvolvement">Barangay Involvement</label>
                    <textarea id="res_BarangayInvolvement" name="res_BarangayInvolvement" rows="3" placeholder="List any community organizations, committees, or activities you're involved in"></textarea>
                </div>
                <div>
                    <label for="res_MedicalConditions">Medical Conditions</label>
                    <textarea id="res_MedicalConditions" name="res_MedicalConditions" rows="3" placeholder="List any known medical conditions, allergies, or special needs"></textarea>
                </div>
            </div>
        </section>

         <section class="section" id="documentSection">
            <h2>Required Documents</h2>
            <div class="row">
                <div>
                    <label for="res_ValidID" class="required">Valid Government ID</label>
                    <div class="file-input-container">
                        <input type="file" id="res_ValidID" name="res_ValidID" accept="image/*,.pdf">
                    </div>
                    <small class="note">(Passport, Driver's License, UMID, etc.)</small>
                </div>
                <div>
                    <label for="res_ProofOfResidency" class="required">Proof of Residency</label>
                    <div class="file-input-container">
                        <input type="file" id="res_ProofOfResidency" name="res_ProofOfResidency" accept="image/*,.pdf">
                    </div>
                    <small class="note">(Utility bill, lease agreement, etc.)</small>
                </div>
                <div>
                    <label for="res_BarangayClearance" class="required">Barangay Clearance</label>
                    <div class="file-input-container">
                        <input type="file" id="res_BarangayClearance" name="res_BarangayClearance" accept="image/*,.pdf">
                    </div>
                </div>
            </div>
        </section>

        <!-- Declaration -->
        <section class="section">
            <div>
                <label class="required"><input type="checkbox" id="res_declaration" name="res_declaration"> I hereby certify that I am a resident of the barangay and that all information provided in this application is true and correct to the best of my knowledge. I understand that any false information may result in disqualification of my application or revocation of my residency certification.</label>
            </div>
        </section>

        <div class="mt-8 flex justify-end space-x-4">
            <button type="reset">Reset Form</button>
            <button type="submit">Submit Information</button>
        </div>
    </form>
  </div>
  </div>
  </div>

  <!-- Modal Structure -->
<div id="modal" class="modal">
  <div class="modal-content">
    <span class="close-button">&times;</span>
    <div id="modalBody">
    </div>
  </div>
</div>


  <footer class="site-footer">
  <div class="footer-section">
    <div>
      <p>
        <a href="index.html">Home</a><br>
        <a href="contact.html">Contact Us</a>
      </p>
      <p>help@ibarangay.com<br>(02) 1234-5678</p>
    </div>
    <div>
      <p>
        <a href="iBaranagy_T&C .html" id="footerUserAgreement">User Agreement</a><br>
        <a href="iBarangay_T&C .html" id="footerPrivacyPolicy">Privacy Policy</a>
      </p>
    </div>
    <div>
      <p>Accredited Partner of:<br><strong>iBarangay</strong></p>
    </div>
    <div>
      <p>Powered by:<br><strong>iBarangay</strong></p>
    </div>
    <div class="footer-icons">
      <a href="#"><img src="https://upload.wikimedia.org/wikipedia/commons/6/6c/Facebook_Logo_2023.png" alt="Facebook" /></a>
      <a href="#"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a5/Instagram_icon.png/1200px-Instagram_icon.png" alt="Instagram" /></a>
    </div>
  </div>
</footer>

  <script>
  const modal = document.getElementById('modal');
  const modalBody = document.getElementById('modalBody');
  const closeBtn = document.querySelector('.close-button');

  document.getElementById('openTerms').addEventListener('click', function (e) {
    e.preventDefault();
    openModal('iBarangay_T&C .html'); // Replace with actual terms file path
  });

  document.getElementById('openPrivacy').addEventListener('click', function (e) {
    e.preventDefault();
    openModal('iBarangay_T&C .html'); // Or a separate privacy file if needed
  });

  function openModal(contentUrl) {
    modalBody.innerHTML = `<iframe src="${contentUrl}" style="width:100%; height:70vh; border:none;"></iframe>`;
    modal.style.display = 'block';
  }

  closeBtn.addEventListener('click', () => {
    modal.style.display = 'none';
  });

  window.addEventListener('click', (event) => {
    if (event.target === modal) {
      modal.style.display = 'none';
    }
  });

    const checkboxes = document.querySelectorAll('.agreement-checkbox');
    const btn1 = document.getElementById('btn1');
    const btn2 = document.getElementById('btn2');

    function updateButtonState() {
      const allChecked = Array.from(checkboxes).every(cb => cb.checked);
      btn1.disabled = !allChecked;
      btn2.disabled = !allChecked;
    }

    checkboxes.forEach(cb => {
      cb.addEventListener('change', updateButtonState);
    });

    btn1.addEventListener('click', () => {
      // Redirect to form instead of adding to cart
      document.getElementById('residencyModal').style.display = 'flex';
    });

    function closeModal() {
  document.getElementById('residencyModal').style.display = 'none';
}

    btn2.addEventListener('click', () => {
  // Simulate saving the order
  let orders = JSON.parse(localStorage.getItem('orders')) || [];
  const name = 'Business Clearance';
  const price = 50;

  const existing = orders.find(order => order.name === name);
  if (existing) {
    existing.qty += 1;
  } else {
    orders.push({ name, price, qty: 1 });
  }

  localStorage.setItem('orders', JSON.stringify(orders));

  // Ask the user
  const another = confirm("Business Clearance has been added to your orders.\n\nWould you like to make another request?");

  if (!another) {
    window.location.href = 'orders.html';
  }
});


    // Handle residency form submission
document.getElementById('residentForm').addEventListener('submit', function (e) {
  e.preventDefault(); // Prevent actual submission

  // Simulate saving the order
  let orders = JSON.parse(localStorage.getItem('orders')) || [];
  const name = 'Certificate of Residency';
  const price = 50;

  const existing = orders.find(order => order.name === name);
  if (existing) {
    existing.qty += 1;
  } else {
    orders.push({ name, price, qty: 1 });
  }

  localStorage.setItem('orders', JSON.stringify(orders));

  // Ask the user
  const another = confirm("Certificate of Residency has been added to your orders.\n\nWould you like to make another request?");

  if (another) {
    closeModal(); // Just close the modal and stay on the page
  } else {
    window.location.href = 'orders.html'; // Go to orders page
  }
});

  </script>
</body>
</html>